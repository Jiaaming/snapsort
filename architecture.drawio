<mxfile host="drawio-plugin" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36" modified="2024-10-20T00:12:06.433Z" version="20.5.3" etag="_FLU2LoNNUgM_jhsQhJw" type="embed"><diagram name="Page-1" id="vnn1LtLKA44UeGkfPenA"><mxGraphModel dx="1502" dy="711" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="23" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" vertex="1" parent="1"><mxGeometry x="127.5" y="220" width="220" height="160" as="geometry"/></mxCell><mxCell id="5" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="220" y="520" width="395" height="150" as="geometry"/></mxCell><mxCell id="57" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="360" y="530" width="250" height="130" as="geometry"/></mxCell><mxCell id="50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=15;fontColor=#000000;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;endFill=0;" edge="1" parent="1" target="42"><mxGeometry relative="1" as="geometry"><mxPoint x="320" y="410" as="sourcePoint"/><mxPoint x="570" y="250" as="targetPoint"/><Array as="points"><mxPoint x="740" y="410"/><mxPoint x="740" y="205"/></Array></mxGeometry></mxCell><mxCell id="52" value="Yes: Load cache" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=15;fontColor=#000000;" vertex="1" connectable="0" parent="50"><mxGeometry x="0.9162" y="-2" relative="1" as="geometry"><mxPoint x="46" y="2" as="offset"/></mxGeometry></mxCell><mxCell id="69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=-0.017;entryY=0.667;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=13;fontColor=#000000;endArrow=none;endFill=0;dashed=1;" edge="1" parent="1" source="2" target="67"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="2" value="&amp;lt;hash, ([classes], path)&amp;gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1"><mxGeometry x="492" y="560" width="110" height="80" as="geometry"/></mxCell><mxCell id="3" value="&amp;lt;embedding index file&amp;gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1"><mxGeometry x="370.63" y="560" width="110" height="80" as="geometry"/></mxCell><mxCell id="21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="4" target="20"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="4" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;Resize images&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="172.5" y="230" width="130" height="50" as="geometry"/></mxCell><mxCell id="14" value="user local cache" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1"><mxGeometry x="220" y="520" width="120" height="30" as="geometry"/></mxCell><mxCell id="19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="18" target="4"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="237.5" y="190"/><mxPoint x="237.5" y="190"/></Array></mxGeometry></mxCell><mxCell id="18" value="&lt;b style=&quot;font-size: 15px;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot; color=&quot;#ff9933&quot;&gt;&amp;nbsp;1. Photo Tone Extraction&lt;br&gt;&lt;/font&gt;&lt;font color=&quot;#3399ff&quot;&gt;2. Similar Photo Query&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="122.5" y="90" width="230" height="60" as="geometry"/></mxCell><mxCell id="26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="20" target="25"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="20" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;analyze and move&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="172.5" y="320" width="130" height="50" as="geometry"/></mxCell><mxCell id="24" value="parallel / muti-thread" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" vertex="1" parent="1"><mxGeometry x="137.5" y="285" width="70" height="25" as="geometry"/></mxCell><mxCell id="60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=52.5;entryPerimeter=0;fontSize=14;fontColor=#000000;endArrow=none;endFill=0;dashed=1;" edge="1" parent="1" source="25" target="29"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="200" y="475"/><mxPoint x="200" y="613"/></Array></mxGeometry></mxCell><mxCell id="61" value="Save log info" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;fontColor=#000000;" vertex="1" connectable="0" parent="60"><mxGeometry x="-0.2417" y="-2" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="25" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;return&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="260" y="450" width="130" height="50" as="geometry"/></mxCell><mxCell id="29" value="redo log &amp;lt;src, dest&amp;gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1"><mxGeometry x="242.5" y="560" width="110" height="80" as="geometry"/></mxCell><mxCell id="46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;fontColor=#000000;" edge="1" parent="1" source="32" target="42"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="32" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;get image hash&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="454.37" y="100" width="130" height="50" as="geometry"/></mxCell><mxCell id="33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="34" target="32"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="34" value="&lt;font size=&quot;1&quot; color=&quot;#97d077&quot;&gt;&lt;b style=&quot;font-size: 15px;&quot;&gt;3. Semantic Search&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="459.37" y="10" width="120" height="60" as="geometry"/></mxCell><mxCell id="58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=14;fontColor=#000000;endArrow=none;endFill=0;" edge="1" parent="1" source="36"><mxGeometry relative="1" as="geometry"><mxPoint x="570" y="530" as="targetPoint"/><Array as="points"><mxPoint x="573" y="530"/></Array></mxGeometry></mxCell><mxCell id="68" value="Update image path" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=13;fontColor=#000000;" vertex="1" connectable="0" parent="58"><mxGeometry x="0.4389" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="36" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;font color=&quot;#b85450&quot;&gt;1.object detect &amp;amp; join [results]&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#9673a6&quot;&gt;2.embedding joined results&lt;/font&gt;&lt;br&gt;4. store&lt;font color=&quot;#9673a6&quot;&gt; vector&lt;/font&gt; and&lt;font color=&quot;#9673a6&quot;&gt; &lt;/font&gt;&lt;font color=&quot;#b85450&quot;&gt;content&lt;/font&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="430" y="280" width="190" height="80" as="geometry"/></mxCell><mxCell id="53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=15;fontColor=#000000;endArrow=none;endFill=0;" edge="1" parent="1" source="42" target="36"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="519.37" y="280"/><mxPoint x="519.37" y="280"/></Array></mxGeometry></mxCell><mxCell id="54" value="No: analyze" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=15;fontColor=#000000;" vertex="1" connectable="0" parent="53"><mxGeometry x="0.525" y="-1" relative="1" as="geometry"><mxPoint x="1" y="-13" as="offset"/></mxGeometry></mxCell><mxCell id="42" value="&lt;font color=&quot;#000000&quot;&gt;In Cache?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;fontSize=15;fontColor=#97D077;" vertex="1" parent="1"><mxGeometry x="469.37" y="180" width="100" height="50" as="geometry"/></mxCell><mxCell id="63" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;analyze and move&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="414" y="380" width="130" height="50" as="geometry"/></mxCell><mxCell id="67" value="&lt;font style=&quot;font-size: 13px;&quot;&gt;&amp;nbsp;{ &quot;hash1&quot;: ([&quot;fruit&quot;, &quot;tree&quot;], &quot;/path/to/image1.jpg&quot;),&amp;nbsp;&lt;br&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&quot;hash2&quot;: ([&quot;car&quot;, &quot;person&quot;], &quot;/path/to/image2.jpg&quot;) }&lt;/font&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fontSize=14;fontColor=#000000;align=left;" vertex="1" parent="1"><mxGeometry x="640" y="540" width="180" height="90" as="geometry"/></mxCell></root></mxGraphModel></diagram></mxfile>